!function(e){"use strict";e.module("tooltip.module",[]).service("positionService",["$window",function(e){return{setPosition:function(t,n,i,o,c,s){var r,u,l=n/100,a=i/100,d=o/100,p=c/100;r=s.left+s.width*l+e.scrollX,u=s.top+s.height*a+e.scrollY,r-=t[0].getBoundingClientRect().width*d,u-=t[0].getBoundingClientRect().height*p,t.css("left",r+"px"),t.css("top",u+"px")}}}]).directive("tooltip",["$document","$compile","$timeout","$animate","positionService",function(t,n,i,o,c){return{restrict:"EA",scope:{},link:function(s,r,u){var l,a,d,p,v,f,m,g,h,$=!1,y=e.element(t).find("body").eq(0),E=u.tpX||50,b=u.tpY||50,w=u.tpAnchorX||50,L=u.tpAnchorY||50,T=u.tpDelay||100,A=u.tpTemplate||!1,C=u.tpClass||"",k=u.tpText||"",x=u.tpTriggerOn||"mouseenter",B=u.tpAnimate||!1;d=function(){var t=A||'<div class="'+C+'">'+k+"</div>";l=e.element(t),"click"===x?r[0].addEventListener("click",h,!1):r[0].addEventListener("mouseenter",m,!1)},p=function(){var e=r[0].getBoundingClientRect();a=n(l)(s),a.css("position","absolute"),a.css("visibility","hidden"),v(),s.$watch(a,function(){a.css("visibility","visible"),c.setPosition(a,E,b,w,L,e)})},v=function(){"true"===B?s.$apply(function(){o.enter(a,y)}):y.append(a)},f=function(){"true"===B?s.$apply(function(){o.leave(a,r).then(function(){l.remove()})}):l.remove()},g=function(e){$=!1,void 0!==a&&e.relatedTarget!==a[0]&&e.relatedTarget!==r[0]&&(f(),r[0].removeEventListener("mouseleave",g,!1))},m=function(){$=!0,r[0].addEventListener("mouseleave",g,!1),i(function(){$&&(p(),a[0].addEventListener("mouseleave",g,!1))},T)},h=function(){$=!$,i(function(){$===!0?p():f()},0)},d()}}}])}(angular);